{% extends 'realty/base.html' %}

{% block content %}
<h1>{% if edit %}Редактирование{% else %}Добавление{% endif %} объекта недвижимости</h1>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
        <div class="form-group">
            <label for="id_title">Название объекта:</label>
            {{ form.title }}
        </div>

        <div class="form-group">
            <label for="id_price">Цена (руб):</label>
            {{ form.price }}
        </div>
    </div>

    <div class="form-group">
        <label for="id_description">Описание:</label>
        {{ form.description }}
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
        <div class="form-group">
            <label for="id_property_type">Тип недвижимости:</label>
            {{ form.property_type }}
        </div>

        <div class="form-group">
            <label for="id_area">Площадь (кв.м):</label>
            {{ form.area }}
        </div>

        <div class="form-group">
            <label for="id_rooms">Количество комнат:</label>
            {{ form.rooms }}
        </div>
    </div>

    <div class="form-group">
        <label for="id_location">Местоположение (адрес):</label>
        {{ form.location }}
    </div>

    <div class="form-group">
        <label for="id_status">Статус:</label>
        {{ form.status }}
    </div>

    <div class="form-group">
        <label for="id_images">Изображения (можно выбрать несколько):</label>
        <input type="file" name="images" id="id_images" multiple class="form-control">
        <small>Первое изображение будет использоваться как основное</small>
    </div>

    <button type="submit" class="btn">{% if edit %}Сохранить изменения{% else %}Добавить объект{% endif %}</button>
    <a href="{% if edit %}{% url 'property_detail' object.pk %}{% else %}{% url 'property_list' %}{% endif %}" class="btn">Отмена</a>
</form>
{% endblock %}